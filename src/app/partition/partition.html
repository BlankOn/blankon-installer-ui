<div class="row">
  <div class="columns content">
          <h1>{{title}} <small ng-show="advancedPartition">Partition Editor</small></h1>
    <p ng-hide="devices[0]">Please wait while your sistem is being scanned... </p>
    <p ng-show="devices[0] && !advancedPartition"><a class="button dropdown" dropdown-toggle="#drive-selection"><span ng-show="!selectedDrive">Select drive...</span><span ng-show="selectedDrive">{{selectedDrive.model}}</span></a><p>
    <ul id="drive-selection" class="f-dropdown">
      <li ng-repeat="drive in devices">
      <a ng-click="setDrive(drive.path)">{{drive.model}}</a>
      </li>
    </ul>
    <div ng-hide="advancedPartition">
      <p ng-show="selectedDrive">Please choose the partition on device below which you would like to install BlankOn into or use <a ng-click="switchToAdvancedPartition()">advanced partitioning tool</a> for more control.<br>
      </p>
      <div class="legend-partition">
        <span ng-show="selectedDrive" class="legend-partition-normal">Used</span>
        <span ng-show="selectedDrive" class="legend-partition-disallow">Too small</span>
        <span ng-show="selectedDrive" class="legend-partition-freespace">Free space</span>
      </div>
      <div class="drive-block" ng-show="selectedDrive" style="width:{{selectedDrive.driveWidth}}px !important;">
        <a href="" ng-repeat="partition in selectedDrive.qualifiedPartitions" class="partition-block" ng-click="selectInstallationTarget(selectedDrive.id, partition)" ng-class="{selected:partition.selected, disallow:partition.disallow, freespace:partition.freespace, normal:partition.normal}">
          <span class="pop" style="color:white">
           Size : {{partition.sizeGb}} GB<br>
           File System : {{partition.filesystem}}<br>
           {{partition.description}}
          </span>
          <div style="width:{{partition.blockWidth}}px;">
          </div>
        </a>
      </div>
      <div ng-show="validInstallationTarget">
        <br>
        <p>
        You are choosing {{selectedInstallationTarget}} to be installed with BlankOn.<br>
        <strong>WARNING : </strong>
      The selected partition will be wiped out. Swap partition will be created if you don't have one.
      </p>
      </div>
    </div>
    <div ng-show="advancedPartition">
      <div class="top-bar-partition">
        <span ng-show="selectedDrive" class="legend-partition-normal">Used</span>
        <span ng-show="selectedDrive" class="legend-partition-disallow">Too small</span>
        <span ng-show="selectedDrive" class="legend-partition-freespace">Free space</span>
        <a class="button tiny right"><span >Apply</span></a>
        <a class="button tiny right"><span >Undo</span></a>
        <a class="button tiny right"><span >Redo</span></a>
        <a class="button tiny right"><span >Exit Advanced Mode</span></a>
      </div>
      <div class="drive-block" ng-show="selectedDrive" style="width:{{selectedDrive.driveWidth}}px !important;">
        <a href="" ng-repeat="partition in selectedDrive.qualifiedPartitions" class="partition-block" ng-click="selectInstallationTarget(selectedDrive.id, partition)" ng-class="{selected:partition.selected, disallow:partition.disallow, freespace:partition.freespace, normal:partition.normal}">
          <span class="pop" style="color:white">
           Size : {{partition.sizeGb}} GB<br>
           File System : {{partition.filesystem}}<br>
           {{partition.description}}
          </span>
          <div style="width:{{partition.blockWidth}}px;">
          </div>
        </a>
      </div>
      <table style="margin-top:10px;width:{{selectedDrive.driveWidth}}px">
              <tr>
                <td>Partition</td>
                <td>File System</td>
                <td>Mount Point</td>
                <td>Size</td>
                <td>Used</td>
                <td>Unused</td>
              </tr>
              <tr ng-repeat="partition in selectedDrive.qualifiedPartitions">
                <td class="td-partition" ng-show="partition.id > 0">{{partition.id}}</td>
                <td class="td-partition" ng-show="partition.id < 0">Unallocated</td>
                <td class="td-partition" ng-show="partition.id > 0">{{partition.filesystem}}</td>
                <td class="td-partition" ng-show="partition.id < 0">Unallocated</td>
                <td class="td-partition">{{partition.mountpoint}}</td>
                <td class="td-partition">{{partition.sizeGb}} GB</td>
                <td class="td-partition">{{partition.used}}</td>
                <td class="td-partition">{{partition.unused}}</td>
                <td class="td-partition" ng-show="partition.id < 0">
                   <a class="button tiny"><span >Create</span></a>
                </a>
                <td class="td-partition" ng-show="partition.id > 0">
                   <a class="button tiny dropdown" dropdown-toggle="#action-{{partition.id}}"><span >Action</span></a>
                   <ul id="action-{{partition.id}}" class="f-dropdown" ng-show="partition.id > 0">
                     <li ng-show="partition.id > 0">
                      <a ng-click="delete(partition)">Delete</a>
                     </li>
                     <li ng-show="partition.id > 0">
                      <a ng-click="format(partition)">Format</a>
                     </li>
                     <li ng-show="partition.id > 0">
                      <a ng-click="mount(partition)">Mount Point</a>
                     </li>
                   </ul>
                </td>
              </tr>
      </table>
    </div>
  </div>
  <div class="columns nav-button" ng-show="devices[0]">
    <button class='button' ng-click="previous()">Previous</button>
    <button class="button" ng-class="{disabled:!validInstallationTarget}" ng-click="next()">Next</button>
  </div>
</div>
